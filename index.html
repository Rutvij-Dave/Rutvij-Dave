<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Rutvij Dave â€” Flagship Portfolio (God Mode)</title>

<!-- Favicon (embedded SVG) -->
<link rel="icon" href="data:image/svg+xml;utf8,
<svg xmlns='http://www.w3.org/2000/svg' width='64' height='64' viewBox='0 0 64 64'>
  <defs><linearGradient id='g' x1='0' x2='1'><stop offset='0' stop-color='%2338bdf8'/><stop offset='1' stop-color='%23818cf8'/></linearGradient></defs>
  <rect width='64' height='64' rx='12' fill='%230b1220'/>
  <text x='50%' y='54%' font-size='28' font-family='Poppins, sans-serif' fill='url(%23g)' text-anchor='middle' font-weight='700'>RD</text>
</svg>" />

<meta name="description" content="Rutvij Dave â€” Senior Data Engineer. Flagship interactive portfolio." />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;500;700;900&family=Poppins:wght@400;700;900&display=swap" rel="stylesheet">

<!-- Three.js + GSAP + Simplex noise lib -->
<script src="https://unpkg.com/three@0.152.2/build/three.min.js"></script>
<script src="https://unpkg.com/gsap@3.12.2/dist/gsap.min.js"></script>
<script src="https://unpkg.com/simplex-noise@3.0.0/simplex-noise.js"></script>

<style>
:root{
  --bg:#04050b;
  --panel:#0e1624;
  --muted:#9fb0c7;
  --accent1:#00e5ff;
  --accent2:#8c7bff;
  --glass: rgba(255,255,255,0.03);
  --max-width:1200px;
}
*{box-sizing:border-box}
html,body{height:100%;margin:0;background:radial-gradient(1200px 600px at 10% 10%, rgba(8,12,30,0.6), transparent), var(--bg); color:#eaf2ff; font-family:Inter, Poppins, system-ui, -apple-system, "Segoe UI", Roboto;}
a{color:inherit}

/* Loader */
#loader{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:linear-gradient(180deg, rgba(2,4,10,0.96), rgba(3,6,12,0.96));z-index:9999}
.loader-wrap{display:flex;flex-direction:column;align-items:center;gap:18px}
.logo-anim{width:90px;height:90px;border-radius:18px;background:linear-gradient(135deg,var(--accent1),var(--accent2));display:flex;align-items:center;justify-content:center;font-weight:900;color:#07122a;font-size:28px}
.load-text{color:var(--muted);opacity:.9}

/* canvas */
#glCanvas{position:fixed;inset:0;z-index:0;display:block}

/* cursor */
.cursor{position:fixed;left:50%;top:50%;width:26px;height:26px;border-radius:50%;pointer-events:none;mix-blend-mode:screen;z-index:2000;transform:translate(-50%,-50%);background:radial-gradient(circle, rgba(0,229,255,.95), rgba(140,123,255,.5) 30%, transparent 45%);transition:transform .08s ease,width .12s,height .12s,opacity .12s}

/* header */
.header{position:fixed;top:18px;left:0;right:0;display:flex;justify-content:space-between;align-items:center;padding:0 6%;z-index:60;pointer-events:all}
.brand{font-weight:800;font-size:18px;letter-spacing:.4px}
.nav{display:flex;gap:12px;align-items:center}
.nav a{padding:8px 12px;border-radius:10px;text-decoration:none;color:rgba(230,238,248,.95);font-weight:600;transition:all .18s}
.nav a:hover{color:var(--accent1);transform:translateY(-3px)}
.controls{display:flex;gap:8px;align-items:center}

/* hero */
.hero{min-height:86vh;display:flex;align-items:center;justify-content:center;padding:12vh 6%;text-align:center;position:relative;z-index:2}
.hero-inner{max-width:var(--max-width)}
.kicker{display:inline-block;padding:6px 12px;border-radius:999px;background:linear-gradient(90deg, rgba(0,229,255,0.06), rgba(140,123,255,0.04));color:var(--accent1);font-weight:700;margin-bottom:18px;font-size:13px}
.h1{font-size:clamp(36px,7vw,86px);line-height:1;margin:0;background:linear-gradient(90deg,var(--accent1),var(--accent2));-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:900}
.h2{color:var(--muted);margin-top:14px;font-size:18px}

/* CTA */
.cta{margin-top:28px;display:inline-flex;gap:12px}
.btn{padding:12px 18px;border-radius:12px;font-weight:700;background:linear-gradient(90deg, rgba(0,229,255,0.06), rgba(140,123,255,0.04));border:1px solid rgba(255,255,255,0.04);color:#e9fbff;text-decoration:none}
.btn:hover{transform:translateY(-6px);box-shadow:0 16px 48px rgba(0,229,255,.06)}

/* sections */
section{padding:80px 6%;position:relative;z-index:2}
.container{max-width:var(--max-width);margin:0 auto}
.section-title{font-weight:800;font-size:26px;margin-bottom:18px}
.two-col{display:grid;grid-template-columns:1fr 360px;gap:30px}
@media(max-width:900px){.two-col{grid-template-columns:1fr}.hero{padding:8vh 6%}}

/* cards */
.card{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));border:1px solid rgba(255,255,255,0.03);padding:18px;border-radius:14px;box-shadow:0 10px 40px rgba(0,0,0,0.5)}
.projects{display:grid;grid-template-columns:repeat(auto-fit,minmax(260px,1fr));gap:20px}
.project{position:relative;padding:18px;border-radius:12px;overflow:hidden;transition:transform .36s,box-shadow .36s}
.project:hover{transform:translateY(-10px);box-shadow:0 30px 80px rgba(0,0,0,0.6)}
.tag{display:inline-block;padding:6px 10px;border-radius:999px;background:rgba(255,255,255,0.02);color:var(--accent1);font-weight:700;font-size:12px}

/* modal */
.modal{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:rgba(2,6,23,0.6);visibility:hidden;opacity:0;transition:opacity .24s;z-index:3000;padding:24px}
.modal.show{visibility:visible;opacity:1}
.panel{width:100%;max-width:980px;background:#071226;padding:20px;border-radius:12px;border:1px solid rgba(255,255,255,0.04)}

/* footer */
.footer{padding:48px 6%;text-align:center;color:var(--muted);z-index:2}

/* reveal util */
.reveal{opacity:0;transform:translateY(24px);transition:all .9s cubic-bezier(.2,.9,.2,1)}
.reveal.show{opacity:1;transform:translateY(0)}
</style>
</head>
<body>

<!-- Loader -->
<div id="loader" role="status" aria-hidden="false">
  <div class="loader-wrap">
    <div class="logo-anim">RD</div>
    <div class="load-text">Rutvij Dave â€” preparing the experience...</div>
  </div>
</div>

<!-- GL Canvas -->
<canvas id="glCanvas" aria-hidden="true"></canvas>

<!-- cursor -->
<div class="cursor" id="cursor" aria-hidden="true"></div>

<!-- header -->
<header class="header" role="banner">
  <div class="brand">Rutvij <span style="opacity:.7">Dave</span></div>
  <nav class="nav" role="navigation" aria-label="primary">
    <a href="#about">About</a>
    <a href="#skills">Skills</a>
    <a href="#projects">Projects</a>
    <a href="#contact">Contact</a>
    <button class="btn" id="godToggle" title="Toggle ultra god-mode">God: OFF</button>
  </nav>
</header>

<!-- main -->
<main>
  <section class="hero" id="home" aria-labelledby="hero-title">
    <div class="hero-inner">
      <div class="kicker">Senior Data Engineer â€¢ Cloud & Big Data</div>
      <h1 class="h1" id="hero-title">I build <span id="type">scalable data platforms</span></h1>
      <p class="h2">Snowflake â€¢ AWS â€¢ ETL/ELT â€¢ Data Modeling â€¢ Observability</p>

      <div class="cta">
        <a class="btn" href="#projects">See Projects</a>
        <a class="btn" href="#contact">Contact</a>
      </div>

      <div style="margin-top:34px" class="card intro">
        <div style="flex:1">
          <strong>Snapshot</strong>
          <p style="color:var(--muted);margin:8px 0 0 0">7+ years experience â€¢ 5+ years in Data Engineering â€¢ Architect & implement cloud-scale data platforms</p>
        </div>
        <div style="width:160px;text-align:center">
          <small style="color:var(--muted)">Perf</small>
          <div style="height:8px;border-radius:999px;background:rgba(255,255,255,0.03);margin-top:8px;overflow:hidden">
            <div style="width:90%;height:100%;background:linear-gradient(90deg,var(--accent1),var(--accent2));border-radius:999px"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <section id="about" class="reveal">
    <div class="container two-col">
      <div>
        <div class="section-title">About</div>
        <p style="color:var(--muted)">I design and build large-scale data platforms using AWS and Snowflake. My focus is on reliable ETL, observability, automation, and delivering analytics-ready warehouses that power business decisions.</p>
        <div style="margin-top:18px"><a class="btn" href="#contact">Let's Talk</a></div>
      </div>
      <div class="card">
        <strong>Contact</strong>
        <p style="color:var(--muted);margin:8px 0 0">ðŸ“ž +91 884 9214 912<br>ðŸ“§ <a href="mailto:your@email.com" style="color:var(--accent1)">your@email.com</a></p>
      </div>
    </div>
  </section>

  <section id="skills" class="reveal">
    <div class="container">
      <div class="section-title">Skills & Tools</div>
      <div class="skills">
        <div class="skill"><h4 style="margin:0 0 8px 0">AWS â€” Cloud Platforms</h4><div class="bar"><div class="fill" data-w="90%"></div></div></div>
        <div class="skill"><h4 style="margin:0 0 8px 0">Snowflake â€” Data Warehousing</h4><div class="bar"><div class="fill" data-w="85%"></div></div></div>
        <div class="skill"><h4 style="margin:0 0 8px 0">SQL â€” Data Engineering</h4><div class="bar"><div class="fill" data-w="92%"></div></div></div>
        <div class="skill"><h4 style="margin:0 0 8px 0">Pipelines & Modeling</h4><div class="bar"><div class="fill" data-w="95%"></div></div></div>
      </div>
    </div>
  </section>

  <section id="projects" class="reveal">
    <div class="container">
      <div class="section-title">Selected Projects</div>
      <div class="projects">
        <article class="project" tabindex="0" data-title="Enterprise Warehouse" data-desc="Designed Snowflake architecture, dimensional modeling, and performance tuning.">
          <div class="tag">Snowflake</div>
          <h3>Enterprise Warehouse</h3>
          <p style="color:var(--muted)">Enterprise-scale warehousing with optimized compute & storage.</p>
          <div style="margin-top:12px"><button class="btn" onclick="openModal(this)">Preview</button></div>
        </article>

        <article class="project" tabindex="0" data-title="Pipeline Framework" data-desc="Automated ETL pipelines, orchestration, and monitoring.">
          <div class="tag">ETL</div>
          <h3>Pipeline Framework</h3>
          <p style="color:var(--muted)">Reliable ingestion and transformation at scale.</p>
          <div style="margin-top:12px"><button class="btn" onclick="openModal(this)">Preview</button></div>
        </article>

        <article class="project" tabindex="0" data-title="Analytics Platform" data-desc="Models & serving layers for near real-time KPIs.">
          <div class="tag">Analytics</div>
          <h3>Analytics Platform</h3>
          <p style="color:var(--muted)">Aggregations & metrics powering dashboards.</p>
          <div style="margin-top:12px"><button class="btn" onclick="openModal(this)">Preview</button></div>
        </article>
      </div>
    </div>
  </section>

  <section id="contact" class="reveal">
    <div class="container">
      <div class="section-title">Contact</div>
      <p style="color:var(--muted)">Interested in collaborating? Reach out â€” I respond quickly. ðŸ“ž +91 884 9214 912 â€¢ ðŸ“§ <a href="mailto:your@email.com" style="color:var(--accent1)">your@email.com</a></p>
    </div>
  </section>
</main>

<!-- modal -->
<div id="modal" class="modal" aria-hidden="true">
  <div class="panel">
    <button class="close" onclick="closeModal()" style="float:right;background:transparent;border:0;color:var(--muted);font-weight:700">âœ•</button>
    <h3 id="modal-title"></h3>
    <p id="modal-desc" style="color:var(--muted)"></p>
    <div style="margin-top:16px"><a class="btn" href="#contact">Contact about this project</a></div>
  </div>
</div>

<footer class="footer">Â© Rutvij Dave â€” Flagship Portfolio</footer>

<script>
/* Helpers */
const $ = s => document.querySelector(s);
const $$ = s => Array.from(document.querySelectorAll(s));

/* Loader hide and initial anim */
window.addEventListener('load', ()=> {
  setTimeout(()=> {
    $('#loader').style.opacity = 0;
    $('#loader').style.visibility = 'hidden';
    // entrance animations
    gsap.from('.brand', {y:-10, opacity:0, duration:.6});
    gsap.from('.kicker', {y:10, opacity:0, duration:.8, delay:.2});
    gsap.from('#hero-title', {y:24, opacity:0, duration:.9, delay:.3, ease:'expo.out'});
    gsap.from('.h2', {y:20, opacity:0, duration:.9, delay:.45});
    revealOnScroll(true);
  }, 420);
});

/* Custom cursor */
const cursor = $('#cursor');
document.addEventListener('mousemove', e => {
  cursor.style.left = e.clientX + 'px';
  cursor.style.top = e.clientY + 'px';
});
document.addEventListener('mousedown', ()=> cursor.style.transform = 'translate(-50%,-50%) scale(.85)');
document.addEventListener('mouseup', ()=> cursor.style.transform = 'translate(-50%,-50%) scale(1)');

/* Typewriter */
(function typewriter(){
  const el = document.getElementById('type');
  if(!el) return;
  const words = ['scalable data platforms','cloud architectures','reliable data pipelines','analytics-ready models'];
  let w=0,i=0,deleting=false;
  function tick(){
    const word = words[w];
    el.textContent = word.slice(0,i);
    if(!deleting) i++; else i--;
    if(!deleting && i === word.length){ deleting=true; setTimeout(tick,1200); return; }
    if(deleting && i === 0){ deleting=false; w=(w+1)%words.length; }
    setTimeout(tick, deleting?40:80);
  }
  tick();
})();

/* Reveal and skill bars */
function revealOnScroll(init=false){
  const reveals = $$('.reveal');
  reveals.forEach(r=>{
    const top = r.getBoundingClientRect().top;
    if(top < window.innerHeight - 100){
      r.classList.add('show');
      r.querySelectorAll('.fill').forEach(f => {
        const w = f.getAttribute('data-w');
        if(w) f.style.width = w;
      });
    } else if(!init){
      r.classList.remove('show');
    }
  });
}
window.addEventListener('scroll', revealOnScroll);

/* Modal */
function openModal(btn){
  const art = btn.closest('.project');
  const title = art.dataset.title || art.querySelector('h3').innerText;
  const desc = art.dataset.desc || art.querySelector('p').innerText;
  $('#modal-title').innerText = title;
  $('#modal-desc').innerText = desc;
  $('#modal').classList.add('show');
  $('#modal').setAttribute('aria-hidden','false');
}
function closeModal(){ $('#modal').classList.remove('show'); $('#modal').setAttribute('aria-hidden','true'); }
document.addEventListener('keydown', e => { if(e.key==='Escape') closeModal(); });

/* Magnetic tilt for projects (lightweight) */
$$('.project').forEach(card => {
  card.addEventListener('mousemove', e => {
    const rect = card.getBoundingClientRect();
    const x = (e.clientX - rect.left) / rect.width - 0.5;
    const y = (e.clientY - rect.top) / rect.height - 0.5;
    gsap.to(card, {rotationY: x * 8, rotationX: -y * 8, scale:1.02, transformPerspective:600, duration:0.6, ease:'expo.out'});
  });
  card.addEventListener('mouseleave', ()=> gsap.to(card, {rotationY:0, rotationX:0, scale:1, duration:0.6, ease:'expo.out'}));
});

/* GOD MODE toggle: ultra effects */
let god = false;
$('#godToggle').addEventListener('click', ()=> {
  god = !god;
  $('#godToggle').textContent = god ? 'God: ON' : 'God: OFF';
  // tweak particle intensity (if available)
  if(window.particles && window.particles.setIntensity) window.particles.setIntensity(god ? 1.6 : 1.0);
});

/* -----------------------------
   Advanced WebGL particles (shader-based)
   - Uses THREE.Points with custom vertex/fragment shaders
   - Built to be performant and additive for glow
   ----------------------------- */
(function initGL(){
  const canvas = document.getElementById('glCanvas');
  const renderer = new THREE.WebGLRenderer({canvas, antialias:true, alpha:true});
  renderer.setPixelRatio(Math.min(window.devicePixelRatio, 2));
  renderer.setSize(window.innerWidth, window.innerHeight);
  renderer.autoClear = true;

  const scene = new THREE.Scene();
  const camera = new THREE.PerspectiveCamera(50, window.innerWidth/window.innerHeight, 1, 4000);
  camera.position.set(0,0,500);

  // geometry
  const MAX = 18000; // base
  let count = Math.floor(MAX * 1.0);
  const positions = new Float32Array(count * 3);
  const scales = new Float32Array(count);
  const colors = new Float32Array(count * 3);
  for(let i=0;i<count;i++){
    const r = 200 + Math.random()*800;
    const theta = Math.random()*Math.PI*2;
    positions[i*3] = Math.cos(theta) * r * (0.5 + Math.random()*0.8);
    positions[i*3+1] = Math.sin(theta) * r * (0.5 + Math.random()*0.8);
    positions[i*3+2] = (Math.random()-0.5) * 1600;
    scales[i] = 1 + Math.random()*3;
    const mix = Math.random();
    colors[i*3] = 0.4 + mix*0.6;
    colors[i*3+1] = 0.9;
    colors[i*3+2] = 1.0;
  }
  const geom = new THREE.BufferGeometry();
  geom.setAttribute('position', new THREE.BufferAttribute(positions, 3));
  geom.setAttribute('aScale', new THREE.BufferAttribute(scales, 1));
  geom.setAttribute('aColor', new THREE.BufferAttribute(colors, 3));

  // shaders
  const mat = new THREE.ShaderMaterial({
    transparent:true,
    depthTest:true,
    blending:THREE.AdditiveBlending,
    uniforms:{
      uTime:{value:0},
      uPixel:{value:Math.min(window.devicePixelRatio,2)},
      uAccent1:{value:new THREE.Color('#00e5ff')},
      uAccent2:{value:new THREE.Color('#8c7bff')},
      uMouse:{value:new THREE.Vector2(0,0)},
      uIntensity:{value:1.0}
    },
    vertexShader:`
      attribute float aScale;
      attribute vec3 aColor;
      varying vec3 vColor;
      uniform float uTime;
      uniform vec2 uMouse;
      void main(){
        vColor = aColor;
        vec3 pos = position;
        float t = uTime * 0.35;
        pos.x += sin(t + position.y * 0.006) * 8.0 * (aScale * 0.8);
        pos.y += cos(t + position.x * 0.005) * 8.0 * (aScale * 0.8);
        // mouse repulsion subtle
        vec2 m = uMouse * 800.0;
        float dist = length((pos.xy - m));
        pos.z += sin(t + dist*0.01) * 6.0;
        vec4 mv = modelViewMatrix * vec4(pos,1.0);
        gl_PointSize = aScale * (200.0 / -mv.z) * (uPixel);
        gl_Position = projectionMatrix * mv;
      }
    `,
    fragmentShader:`
      uniform vec3 uAccent1;
      uniform vec3 uAccent2;
      varying vec3 vColor;
      void main(){
        vec2 coord = gl_PointCoord - vec2(0.5);
        float d = length(coord);
        float alpha = 1.0 - smoothstep(0.35, 0.55, d);
        vec3 col = mix(uAccent1, uAccent2, vColor.r);
        gl_FragColor = vec4(col, alpha * 0.95);
      }
    `
  });

  const points = new THREE.Points(geom, mat);
  scene.add(points);

  // responsiveness
  window.addEventListener('resize', ()=> {
    renderer.setSize(window.innerWidth, window.innerHeight);
    camera.aspect = window.innerWidth/window.innerHeight;
    camera.updateProjectionMatrix();
  });

  // mouse for parallax
  const mouse = new THREE.Vector2(0,0);
  document.addEventListener('mousemove', (e)=> {
    mouse.x = (e.clientX / window.innerWidth) * 2 - 1;
    mouse.y = - (e.clientY / window.innerHeight) * 2 + 1;
    mat.uniforms.uMouse.value.set(mouse.x, mouse.y);
  });

  const clock = new THREE.Clock();
  let enabled = true;
  function render(){
    if(enabled){
      mat.uniforms.uTime.value = clock.getElapsedTime();
      // camera parallax
      camera.position.x += (mouse.x * 60 - camera.position.x) * 0.06;
      camera.position.y += (mouse.y * 40 - camera.position.y) * 0.06;
      camera.lookAt(0,0,0);
      renderer.render(scene, camera);
    } else {
      renderer.clear();
    }
    requestAnimationFrame(render);
  }
  render();

  // public API
  window.particles = {
    setEnabled: (v) => { enabled = !!v; if(!enabled) renderer.clear(); },
    setIntensity: (s) => { mat.uniforms.uIntensity.value = s; mat.uniforms.uTime.value *= s; },
    pulse: (amount) => {
      const pos = geom.attributes.position.array;
      for(let i=0;i<pos.length;i++){
        pos[i] += (Math.random()-0.5)*amount;
      }
      geom.attributes.position.needsUpdate = true;
    }
  };

})();

/* Sound reactive (optional) */
let audioCtx, analyser, mic;
async function enableAudio(){
  try{
    const stream = await navigator.mediaDevices.getUserMedia({audio:true});
    audioCtx = new (window.AudioContext || window.webkitAudioContext)();
    const src = audioCtx.createMediaStreamSource(stream);
    analyser = audioCtx.createAnalyser();
    analyser.fftSize = 2048;
    src.connect(analyser);
    mic = stream;
    (function loop(){
      const data = new Uint8Array(analyser.frequencyBinCount);
      analyser.getByteFrequencyData(data);
      let sum=0;
      for(let i=0;i<data.length;i++) sum += data[i];
      const avg = sum / data.length;
      const intensity = Math.min(8, avg / 16);
      if(window.particles) window.particles.pulse(intensity);
      requestAnimationFrame(loop);
    })();
  } catch(e){ console.warn('Audio not enabled', e); alert('Microphone access denied or unavailable.'); }
}
document.getElementById('godToggle').addEventListener('dblclick', ()=> {
  // double-click the God button to start microphone demo (since it's heavy/explicit)
  if(!mic) enableAudio();
});

/* keyboard: press G to toggle God mode */
document.addEventListener('keydown', (e)=>{
  if(e.key.toLowerCase() === 'g'){
    const btn = document.getElementById('godToggle');
    btn.click();
  }
});

/* reveal sections on scroll */
function revealOnScroll(){
  $$('.reveal').forEach(s=>{
    if(s.getBoundingClientRect().top < window.innerHeight - 120) s.classList.add('show');
  });
}
window.addEventListener('scroll', revealOnScroll); revealOnScroll();

/* modal handlers */
function openModal(btn){
  const art = btn.closest('.project');
  const title = art.dataset.title || art.querySelector('h3').textContent;
  const desc = art.dataset.desc || art.querySelector('p').textContent;
  $('#modal-title').textContent = title;
  $('#modal-desc').textContent = desc;
  $('#modal').classList.add('show'); $('#modal').setAttribute('aria-hidden','false');
}
function closeModal(){ $('#modal').classList.remove('show'); $('#modal').setAttribute('aria-hidden','true'); }
document.addEventListener('keydown', e=>{ if(e.key==='Escape') closeModal(); });

/* Nice-to-have console hint */
console.info('God Mode portfolio loaded. Tip: press "G" to toggle God mode. Double-click God button to enable audio-reactive particle pulse (mic permission required).');
</script>
</body>
</html>
